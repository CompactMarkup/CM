document.querySelector("#banner").innerHTML=book.banner,function(){const b=book.toc,a=document.querySelector("iframe#article"),c=document.querySelector("nav#nav"),d=function(a){const c=b.lst[b.ids[a]][1];return book.isStatic?book.pages+c:"?pg="+c};let e=!1;const f=function(a){e=!1!==a&&!e,c.classList.toggle("show",e)};document.querySelector("a#navToggle").onclick=f;let g=null;const h=function(a){if(f(!1),g)for(let a=b.ids[g];null!==a;){const c=b.div[a];c&&c.classList.remove("open"),b.mi[a].classList.remove("active","open"),a=b.pnt[a]}g=a;let c=b.ids[g];const d=b.mi[c];for(d.classList.add("active");null!==c;){const a=b.div[c];a&&a.classList.add("open"),b.mi[c].classList.add("open"),c=b.pnt[c]}d.scrollIntoView()},i=function(b,c=""){h(b),a.src=d(b)+c};window.onmessage=a=>{try{const[b]=a.data;if("goto"===b){const[b,c,d]=a.data.slice(1);book.frame.goto(b,c,d)}else if("menu"===b){const[b]=a.data.slice(1);h(b)}}catch(a){}},book.frame={goto:(a,b,c)=>(void 0===book.toc.ids[a]?c?window.open(a+b,c):window.location=a+b:i(a,b),!1)};const j=c.querySelector("menu");b.mi={},b.div={};let k=0;const l=function(c,e){for(let f=-1;k<b.lst.length;){const[g,h,i]=b.lst[k],j=b.cls[k],m=b.pnt[k],n=b.sec[k];if(n!==e&&m!==e)break;++f;const o=document.createElement("a");o.classList.add("arrow");const p=document.createElement("a");p.classList.add("menutext"),p.href=d(g),p.onclick=function(){return book.frame.goto(g,"")},p.innerHTML=i;const a=document.createElement("menuitem");0<m&&a.classList.add(`menu${f}`),b.simple&&a.classList.add("simple"),j.length&&a.classList.add(j);const q=c.appendChild(a),r=q.appendChild(document.createElement("span"));if(r.appendChild(o),r.appendChild(p),b.mi[k++]=a,null!==m&&m!==n&&b.sec[k-1]===n){a.classList.add("section");const d=document.createElement("div");c.appendChild(d),o.addEventListener("click",()=>{a.classList.toggle("open"),d.classList.toggle("open")}),b.div[k-1]=d,l(d,n)}else b.div[k-1]=null}};l(j,0),i(b.lst[0][0])}();