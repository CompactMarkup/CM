var book=book||{};void 0===book.isDebug&&(book.isDebug=8e3<=document.location.port);var CM={root:"",cacheBuster:"",loadedCSSs:{},loadedScripts:{},isExtern:function(a){return 0<=a.indexOf("://")},url:function(a){return CM.isExtern(a)?a:CM.root+a+CM.cacheBuster},loadLink:function(a,b){var c=document.createElement("link");return c.rel=a,c.href=CM.url(b),document.head.appendChild(c),c},loadIcon:function(a){CM.loadLink("icon",a)},loadCSS:function(a){let b=CM.loadedCSSs[a];return b||(b=CM.loadedCSSs[a]=CM.loadLink("stylesheet",a)),b},loadScript:function(a,b,c=null){let d=CM.loadedScripts[a];return d?(async function(){await d.isLoaded,b&&b()}(),d):(d=CM.loadedScripts[a]=document.createElement("script"),d.isLoaded=new Promise(function(a){d.onload=function(){a(),b&&b()}}),c&&(d.type=c),d.src=CM.url(a),(document.body||document.head).appendChild(d),d)},loadScripts:function(a,b,c=null){var d=a.shift();CM.loadScript(d,a.length?function(){CM.loadScripts(a,b,c)}:b,c)}};book.isFrame=!1,function(){var a=document.getElementsByTagName("script"),b=a[a.length-1],c=b.src.split("?"),d=c[0],e=c[1];if(CM.root=d.slice(0,d.lastIndexOf("/")+1),e)for(var f,g=e.split("&"),h=0;h<g.length;++h)f=g[h],"frame"===f?book.isFrame=!0:0===f.indexOf("v=")&&(CM.cacheBuster="?"+f)}(),document.title=book.title,CM.loadIcon("../theme/icon.ico"),CM.loadCSS("main.css"),CM.loadCSS("../theme/theme.css");try{eval("let arrow = () => 1"),CM.loadScript("../book.js"),CM.loadScripts(["../"+book.pages+"toc_.js","gen.js"],function(){CM.loadScripts(book.isFrame?["frame.js"]:["parser.js","page.js"])})}catch(a){window.addEventListener("load",function(){(document.querySelector("article")||document.body).innerHTML="<br/><h2>These pages require a newer version of JavaScript. Please use a modern web browser.</h2>"},!1)}